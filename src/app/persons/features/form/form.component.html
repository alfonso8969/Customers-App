
<div class="container form-goup">

  <h1 *ngIf="!edit">New Person</h1>
  <h1 *ngIf="edit">{{ person()?.name }}</h1>
  <form [formGroup]="personForm" (ngSubmit)="onSubmit()" >
    <div *ngIf="edit">
      <label for="id">ID</label>
      <input id="id" formControlName="id" type="text" class="form-control">
    </div>

    <div>
      <label for="name">Name</label>
      <input id="name" formControlName="name" type="text" class="form-control">
      <div *ngIf="formControls['name'].invalid && (formControls['name'].dirty || formControls['name'].touched)">
        <div class="text-error" *ngIf="formControls['name'].errors?.['required']">Name is required.</div>
        <div class="text-error" *ngIf="formControls['name'].errors?.['minlength']">Name must be at least 2 characters long.</div>
      </div>
    </div>

    <div>
      <label for="phone">Phone</label>
      <input id="phone" formControlName="phone" type="text" class="form-control">
      <div *ngIf="formControls['phone'].invalid && (formControls['phone'].dirty || formControls['phone'].touched)">
        <div class="text-error" *ngIf="formControls['phone'].errors?.['required']">Phone is required.</div>
        <div class="text-error" *ngIf="formControls['phone'].errors?.['pattern']">Phone must be a 9-digit number.</div>
      </div>
    </div>

    <div>
      <label for="address">Address</label>
      <input id="address" formControlName="address" type="text" class="form-control">
      <div *ngIf="formControls['address'].invalid && (formControls['address'].dirty || formControls['address'].touched)">
        <div class="text-error" *ngIf="formControls['address'].errors?.['required']">Address is required.</div>
      </div>
    </div>

    <div>
      <label for="image" class="p-2">Image URL</label>
      <input id="image" formControlName="image" type="text" class="form-control">
      <div *ngIf="formControls['image'].invalid && (formControls['image'].dirty || formControls['image'].touched)">
        <div class="text-error" *ngIf="formControls['image'].errors?.['required']">Image URL is required.</div>
      </div>
    </div>
    <button type="submit" class="btn btn-primary mt-2" [disabled]="personForm.invalid">Submit</button>
  </form>
</div>
